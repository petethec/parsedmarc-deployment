# parsedmarc S3-Only Configuration
# This configuration is optimized for S3-based DMARC report processing

[general]
# Save parsed reports to backends
save_aggregate = True
save_forensic = True
save_smtp_tls = True

# Output settings
output = /app/data/output
aggregate_json_filename = aggregate.json
forensic_json_filename = forensic.json
smtp_tls_json_filename = smtp_tls.json
aggregate_csv_filename = aggregate.csv
forensic_csv_filename = forensic.csv
smtp_tls_csv_filename = smtp_tls.csv

# Processing settings
offline = False
strip_attachment_payloads = True
n_procs = 2
dns_timeout = 2.0
nameservers = 8.8.8.8, 1.1.1.1

# Logging
debug = False
verbose = True
log_file = /app/logs/parsedmarc.log

# S3 Configuration - ENABLED for S3 processing
[s3]
bucket = ray-dmarc-processed-167290361699
path = reports
region_name = us-west-1

# Webhook Configuration - ENABLED for Supabase integration
[webhook]
aggregate_url = https://buctxwcqzitrqruoomkz.supabase.co/functions/v1/parsedmarc-webhook
forensic_url = https://buctxwcqzitrqruoomkz.supabase.co/functions/v1/parsedmarc-webhook
smtp_tls_url = https://buctxwcqzitrqruoomkz.supabase.co/functions/v1/parsedmarc-webhook
timeout = 30

# Disable all email-related configurations
# [mailbox] - DISABLED for S3 processing
# [imap] - DISABLED for S3 processing  
# [msgraph] - DISABLED for S3 processing
# [gmail_api] - DISABLED for S3 processing

# Optional: Elasticsearch for additional storage (if needed)
# [elasticsearch]
# hosts = elasticsearch:9200
# ssl = False
# timeout = 60
# number_of_shards = 1
# number_of_replicas = 0
# index_suffix = 
# index_prefix = 
# monthly_indexes = False

# Optional: OpenSearch for additional storage (if needed)
# [opensearch]
# hosts = opensearch:9200
# ssl = False
# timeout = 60
# number_of_shards = 1
# number_of_replicas = 0
# index_suffix = 
# index_prefix = 
# monthly_indexes = False
